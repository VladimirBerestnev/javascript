<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecma 4</title>
</head>

<body>


    <script>

        //  ""Получение данных о пользователе""

        const getUserData = async (ID) => {
            let url = 'https://jsonplaceholder.typicode.com/users';

            let response = await fetch(url);

            if (response.ok) {
                let answer = await response.json();

                let ans = answer.filter(function (item, i, answer) {
                    return item.id === ID;
                })
                console.log(ans);

            } else {
                console.log('User doesn`t exists');
            }

        }

        getUserData(4);



        // ""Изменение стиля элемента через заданное время""

        function changeStyleDelayed(ID, delay) {

            const elementByID = document.getElementById(ID);
            function changeStyle() {
                elementByID.classList.remove(myStyle);
                elementByID.classList.add(newStyle);
            }

            setTimeout(changeStyle, delay);

        }

        // ""Отправка данных на сервер""

        const user = {
            name: 'John Smith',
            age: 30,
            email: 'john@example.com'
        };


        const saveUserData = async (user) => {
            let url = 'https://jsonplaceholder.typicode.com/users';

            const userPost = JSON.stringify(user, null, 3);

            fetch(url, {
                method: 'Post',
                headers: {
                    "content-type": "application/json"
                },
                body: userPost
            }).then((response) => response.json())
                .then(() => {
                    console.log('User data saved successfully');
                })
                .catch(error => {
                    console.log(error.message);
                });
        }

        saveUserData(user);


    </script>


</body>

</html>